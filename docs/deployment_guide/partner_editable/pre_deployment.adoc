//Include any predeployment steps here, such as signing up for a Marketplace AMI or making any changes to a partner account. If there are no predeployment steps, leave this file empty.

== Predeployment steps

Before deploying the Quick Start, complete the following:

. https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html[Create an Amazon S3 bucket] in the AWS Region you want to use for the deployment.
. https://www.redhat.com/wapps/ugc/register.html?_flowId=register-flow&_flowExecutionKey=e1s1[Create a Red Hat account^] if you don't have one.
. Log in to your Red Hat account and sign up for an OpenShift subscription. A https://www.redhat.com/en/technologies/cloud-computing/openshift/try-it[60-day trial of OpenShift^] is available.
. Download your https://console.redhat.com/openshift/install/aws/installer-provisioned[OpenShift pull secret^] from Red Hat.
. https://docs.aws.amazon.com/AmazonS3/latest/userguide/upload-objects.html[Upload] your pull secret to the S3 bucket. During deployment, enter the IBM entitlement key for the `Repository password` (`RepositoryPassword`) parameter. The Quick Start uses the pull secret to provision the OpenShift cluster.
. Obtain an IBM entitlement key from the https://myibm.ibm.com/products-services/containerlibrary[IBM Container Library^]. During deployment, enter the IBM entitlement key for the `Repository password` (`RepositoryPassword`) parameter.
. https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/domain-register.html[Register a domain name] in Amazon Route 53 to use for OpenShift.
. To create your own fully-qualified domain name (FQDN), add a DNS record to your hosted zone in Amazon Route 53.

=== (Optional) Create your own FQDN

To create your own fully qualified domain name (FQDN) for the {partner-product-name}, add a DNS record to your hosted zone in Amazon Route 53.

. Sign into the https://us-east-1.console.aws.amazon.com/console/home?region=us-east-1#[AWS Management Console]. Then open the Amazon Route 53 console.
. Choose Hosted zones from the left navigation pane.
. Choose the domain name you registered in Step 7 of <<_predeployment_steps>>.
. Choose *Create record*.
. Enter a record name. This must be different from the Red Hat OpenShift Container Platform cluster FQDN or any other FQDN associated with the Red Hat OpenShift Container Platform cluster. During deployment, enter this name for the `IBM Security Guardium Insights host name` (`HostName`) parameter value.
. For `Record type`, choose `CNAME`.
. For the value of the record, specify `console-openshift-console.apps.ClusterName.DomainName`, where *ClusterName* and *DomainName* are the respective input parameters used when creating the stack.
. For the routing policy, pick `Simple routing`, and then choose *Create record*, as shown in <<_create_dns_record>>.

[#_create_dns_record]
.Create DNS record for FQDN for the {partner-product-name}
[link=images/create-dns-record.png]
image::../docs/deployment_guide/images/create-dns-record.png[DNS Record]

{empty} +
If you are using your own FQDN, you must provide an optional `TLS certificate` and `TLS key`, that use keys signed by a trusted certificate authority (CA). If the server keys are not signed by a trusted CA, A custom TLS certificate is required. For more information, refer to https://www.ibm.com/docs/en/guardium-insights/3.1.x?topic=planning-domain-name-tls-certificates[Domain Name and TLS Certificates^].

Upload the TLS certificate, TLS key, and custom TLS certificate to the S3 bucket you created for your pull secret. The Quick Start retrieves these during deployment.
